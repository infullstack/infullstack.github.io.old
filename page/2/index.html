<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <title>Ray</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
  <body class="typo">
    <header class="header container">
  <div class="sidebar menu">
    <nav class="navbar">
      <ul class="menu">
        
          <li class="menu-item">
            <a href="/" class="menu-item-link"><i class="fa fa-th-large"></i></a>
          </li>
        
          <li class="menu-item">
            <a href="/archives" class="menu-item-link"><i class="fa fa-list-alt"></i></a>
          </li>
        
          <li class="menu-item">
            <a href="/about.html" class="menu-item-link"><i class="fa fa-user-o"></i></a>
          </li>
        
          <li class="menu-item">
            <a href="/atom.xml" class="menu-item-link"><i class="fa fa-rss"></i></a>
          </li>
        
      </ul>
    </nav>
  </div>
</header>

    <main class="container">
    	<header class="header">
    <!-- div class="logo">
      <img src="https://source.unsplash.com/random?2"/>
    </div -->
    <div class="site-desc">
      <div class="blog-title">
        <a href="/" class="">Ray</a>
      </div>
      <div class="site-description">
        I am a full stack engineer, working on big data.
      </div>
      <div class="site-social">
          <a class="icon" target="_blank" href="http://github.com/infullstack">
            <i class="fa fa-address-card-o" aria-hidden="true"></i>
          </a>
          <a class="icon" target="_blank" href="mailto:yanleijava@163.com">
            <i class="fa fa-envelope-o"></i>
          </a>
          <a class="icon" target="_blank" href="http://github.com/infullstack">
            <i class="fa fa-github"></i>
          </a>
          <a class="icon" target="_blank" href="https://twitter.com/siinnger">
            <i class="fa fa-twitter"></i>
          </a>
          <a class="icon" target="_blank" href="http://weibo.com/infullstack">
            <i class="fa fa-weibo"></i>
          </a>
          <a class="icon" target="_blank" href="https://www.instagram.com/therayrayray/">
            <i class="fa fa-instagram"></i>
          </a>
      </div>
    </div>
</header>

<section class="posts">
  <span class="abc"><i class="fa fa-star-half-o"></i> Last Articles</span>
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/shell-log-function.html">shell通用日志函数</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2017-01-11</span>
          </div>
          <div class="post-content">
              
                为了方便调试，写了一个通用的日志函数，实现功能：

设定日志级别，实现可以输出不同级别的日志信息 
日志格式类似为：[日志级别] 时间 funcname:函数名 [lineno:行号] 日志信息 
不同级别，设定不同颜色 

代码:
123456789101112131415function log &#123;    local text;local logtype    logfile=...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/nginx-load-balancing.html">nginx负载均衡</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2017-01-03</span>
          </div>
          <div class="post-content">
              
                nginx可以按照调度规则实现动态、静态页面的分离，也可以按照轮询、ip哈希、URL哈希、权重等多种方式对后端服务器做负载均衡，同时还支持后端服务器的健康检查。
nginx的upstream目前支持的5种方式的分配
1.轮询（默认）
每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务器down掉，能自动剔除。
1234upstream backserver &#123;     se...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        
          <div class="imgWrap">
            <img src="http://okzvb3705.bkt.clouddn.com/maja-petric-8287.jpg?imageView2/1/w/1980/h/900/" alt="" />
          </div>
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/jfinal-auth.html">JFinal增加简单权限认证功能</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2017-01-03</span>
          </div>
          <div class="post-content">
              
                
JFinalJFinal 是基于 Java 语言的极速 WEB + ORM 框架，其核心设计目标是开发迅速、代码量少、学习简单、功能强大、轻量级、易扩展、Restful。在拥有Java语言所有优势的同时再拥有ruby、python、...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/nginx-tomcat-load-balancing.html">Nginx+Tomcat实现应用负载均衡</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2016-12-30</span>
          </div>
          <div class="post-content">
              
                概述当单个应用服务器压力过大时，可以使用多个应用服务器提供服务减轻单服务器的压力，再结合一个代理转发服务器，完成tomcat的负载均衡。
部署架构图
特点：当请求达到nginx，nginx会根据weight和配置的服务器列表，完成请求的转发，实现应用服务器的负载均衡。该架构适用于无状态共享的应用服务，因为session并没有设置共享。
用到工具
nginx 1.10
tomcat 1.8

...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/shell-concruent.html">实现shell并发</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2016-12-09</span>
          </div>
          <div class="post-content">
              
                经常在工作中遇到执行的脚本需要并发执行，提高效率。

常规脚本

1234567#!bin/shfor((i=1;i&lt;=5;i++));do&#123;    sleep 3;    echo $i&#125;done
执行：time bash test.sh执行结果：总共耗时15秒
1234567891011[root@pc disk1]# time sh test.sh12345r...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/linux-supervisor.html">Linux配置supervisor管理进程</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2016-12-09</span>
          </div>
          <div class="post-content">
              
                概述Supervisor是由python语言编写，基于linux操作系统的一款服务器管理工具，用以监控服务器的运行，发现问题能立即自动预警及自动重启等功能。
基础环境
Centos 6.5
Python 2.6.6

软件安装
supervisor
meld(python html模版引擎)

下载地址：
meld3 http://www.plope.com/software/meld3/m...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/collect-jmap-jstack.html">收集jmap和jstack信息</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2016-12-05</span>
          </div>
          <div class="post-content">
              
                12345678910111213141516171819202122232425262728293031323334353637383940414243#收集jmap信息#!bin/shif [ $# -lt 2 ] ; then	echo &quot;please input port and execute count parameter&quot;	exitfijmap_dir=/m...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/booklist.html">书单</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2016-09-08</span>
          </div>
          <div class="post-content">
              
                
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/linux-command.html">常用的linux命令</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/编程技术/">编程技术</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2016-01-03</span>
          </div>
          <div class="post-content">
              
                Linux kill多个进程1ps -ef|grep ycsb|grep -v grep|cut -c 9-15|xargs kill -9
列举根目录文件下文件大小1du / -m --max-depth 1 |sort -nr
####　查看端口占用
12netstat　-anp|grep port即：netstat –apn | grep 8080
查找文件内容1grep -r mag...
              
          </div>
        </div>
        </article>
      
    
  
      
      <article class="post">
        

        <div class="ctnWrap">
          <div class="post-title">
            <a class="post-title-link" href="/a-english-song.html">一首英文歌</a>
          </div>
          <div class="post-meta">
            
              <span class="article-delim"><i class="fa fa-flask"></i></span>
              <div class="article-category">
              <a class="article-category-link" href="/categories/观点感悟/">观点感悟</a>
              </div>
            
            <span class="article-delim"><i class="fa fa-sun-o"></i></span>
            <span class="post-time">2015-11-02</span>
          </div>
          <div class="post-content">
              
                123456hiding from the rain and snow trying to forget but I won&apos;t let go looking at a crowded street listening to my own heart beat so many people all around the world .....
晚饭的时候，当餐厅缓缓响起这首《tak...
              
          </div>
        </div>
        </article>
      
    
  
</section>

<nav class="pagination">
  
  <a href="/" class="pagination-prev">上一页</a>
  
  
  <a href="/page/3/" class="pagination-next">下一页</a>
  
</nav>
		<div class="footer">
	<div class="footer-title">Thanks For Visiting</div>
	<div class="">Designed by Lei Yan, Proudly published with Hexo !</div>
</div>
    </main>
  </body>
</html>